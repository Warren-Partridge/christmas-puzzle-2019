<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Puzzle 1</title>
  <script>
    function checkAnswer() {
      var value = document.getElementById("answer-input").value.toLowerCase(); // Get input

      const options = {
        method: 'POST',
        body: JSON.stringify({ 'ans': value }),
        headers: {
          'Content-Type': 'application/json'
        },
      };

      fetch("puzzle1/check", options).then(resp => {
        return resp.text();
      }).then(parsedResp => {
        if (parsedResp === "C") { // then the answer was correct and we should grant a cookie.
          window.alert("You found it. Try the next puzzle.");
          document.cookie = "latestCompleted=1";
        } else {
          window.alert(parsedResp)
        }
      });
    }
  </script>
</head>
<body>
<h1>Puzzle 1: Find the codes</h1>
<p><i>Your first clue is hidden somewhere on the web. This should tell you where to find it.</i></p>
<p>Go watch 38ae83b83ed932, and tell me what you see.</p>
<br>
<p><i>If you think you figured it out:</i></p>
<input type="text" id="answer-input" onsubmit="checkAnswer()">
<button onclick="checkAnswer()">Check countersign</button>
</body>
</html>